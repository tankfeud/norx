; norx - Template basic config file

[Display]
; FullScreen = false + Decoration = false + no dimension -> Borderless FullScreen
Title           = sample3
Smoothing       = true
VSync           = true
FullScreen      = false
Decoration      = true
ScreenWidth     = 1280
ScreenHeight    = 720

[Main]
ViewportList     = MainViewport # FinalViewport
; We passe both viewports to be initialized

[Resource]
Texture         = ./data/texture
Sound           = ./data/sound

[Input]
SetList         = MainInput

[MainInput]
KEY_ESCAPE      = Quit

[MainViewport]
BackgroundColor = red
Camera          = MainCamera
TextureList		= MainTexture
; We render the main viewport into a Texture that can be processed in the finalViewport

[FinalViewport]
BackgroundColor  = black
ShaderList       = InvertedShader
; We create here a final viewport to apply 'post-processing' shader

[MainCamera]
FrustumWidth    = 1280
FrustumHeight   = 720
FrustumFar      = 2
FrustumNear     = 0
Position        = (0, 0, -1) ; Objects with -1 <= Z <= 1 will be visible

[Scene]
ChildList       = Object # Sound

[Object]
Graphic         = @
Texture         = logo.png
Pivot           = center
AngularVelocity = 18
ShaderList	= GradientShader
; Logo Object is using here the gradient shader 

[Sound]
SoundList       = @
Sound           = appear.ogg
LifeTime        = sound

[GradientShader]
ParamList = texture
Code = "
void main() {
	vec2 pos = gl_TexCoord[0].xy; 
	vec4 textureFrag = texture2D(texture, pos ); 
	gl_FragColor = vec4(1.0, pos.y, 0.0, textureFrag.a);
}
"
; This is a simple gradient shader that uses texture UV's to create a color gradient

[InvertedShader]
ParamList = texture
texture = MainTexture ; We specifiy here that the input texture come's from the output of the main viewport
Code = "
void main() {
	vec2 pos = gl_TexCoord[0].xy; 
	vec4 textureFrag = texture2D(texture, pos );
	gl_FragColor = vec4(1.0 - textureFrag.r,1.0 -textureFrag.g,1.0 -textureFrag.b,1);
}
"
; This is a inverted (negative) gradient shader